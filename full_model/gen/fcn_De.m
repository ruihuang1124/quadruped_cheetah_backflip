function [De] = fcn_De(q,p)

De = zeros(7,7);

  De(1,1)=p(5) + 2*p(6) + 2*p(7);
  De(1,2)=0;
  De(1,3)=p(3)*p(7)*cos(q(6) + q(3)) - p(16)*p(7)*cos(q(4) + q(5) + q(3)) - p(15)*p(7)*sin(q(6) +...
          q(7) + q(3)) - p(15)*p(7)*sin(q(4) + q(5) + q(3)) - p(14)*p(6)*cos(q(6) + q(3)) - p(14)*p(6)*cos(q(4) +...
          q(3)) - p(16)*p(7)*cos(q(6) + q(7) + q(3)) + p(3)*p(7)*cos(q(4) + q(3)) - p(13)*p(6)*sin(q(6) + q(3)) - p(13)*...
         p(6)*sin(q(4) + q(3)) - p(12)*p(5)*cos(q(3)) - p(11)*p(5)*sin(q(3));
  De(1,4)=p(3)*p(7)*cos(q(4) + q(3)) - p(15)*p(7)*sin(q(4) + q(5) + q(3)) - p(14)*p(6)*cos(q(4) +...
          q(3)) - p(16)*p(7)*cos(q(4) + q(5) + q(3)) - p(13)*p(6)*sin(q(4) + q(3));
  De(1,5)=- p(16)*p(7)*cos(q(4) + q(5) + q(3)) - p(15)*p(7)*sin(q(4) + q(5) + q(3));
  De(1,6)=p(3)*p(7)*cos(q(6) + q(3)) - p(15)*p(7)*sin(q(6) + q(7) + q(3)) - p(14)*p(6)*cos(q(6) +...
          q(3)) - p(16)*p(7)*cos(q(6) + q(7) + q(3)) - p(13)*p(6)*sin(q(6) + q(3));
  De(1,7)=- p(16)*p(7)*cos(q(6) + q(7) + q(3)) - p(15)*p(7)*sin(q(6) + q(7) + q(3));
  De(2,1)=0;
  De(2,2)=p(5) + 2*p(6) + 2*p(7);
  De(2,3)=p(15)*p(7)*cos(q(6) + q(7) + q(3)) + p(15)*p(7)*cos(q(4) + q(5) + q(3)) - p(16)*p(7)*...
         sin(q(6) + q(7) + q(3)) - p(16)*p(7)*sin(q(4) + q(5) + q(3)) + p(13)*p(6)*cos(q(6) + q(3)) + p(13)*p(6)*...
         cos(q(4) + q(3)) - p(14)*p(6)*sin(q(6) + q(3)) - p(14)*p(6)*sin(q(4) + q(3)) + p(3)*p(7)*sin(q(6) + q(3)) +...
          p(3)*p(7)*sin(q(4) + q(3)) + p(11)*p(5)*cos(q(3)) - p(12)*p(5)*sin(q(3));
  De(2,4)=p(15)*p(7)*cos(q(4) + q(5) + q(3)) - p(16)*p(7)*sin(q(4) + q(5) + q(3)) + p(13)*p(6)*...
         cos(q(4) + q(3)) - p(14)*p(6)*sin(q(4) + q(3)) + p(3)*p(7)*sin(q(4) + q(3));
  De(2,5)=p(15)*p(7)*cos(q(4) + q(5) + q(3)) - p(16)*p(7)*sin(q(4) + q(5) + q(3));
  De(2,6)=p(15)*p(7)*cos(q(6) + q(7) + q(3)) - p(16)*p(7)*sin(q(6) + q(7) + q(3)) + p(13)*p(6)*...
         cos(q(6) + q(3)) - p(14)*p(6)*sin(q(6) + q(3)) + p(3)*p(7)*sin(q(6) + q(3));
  De(2,7)=p(15)*p(7)*cos(q(6) + q(7) + q(3)) - p(16)*p(7)*sin(q(6) + q(7) + q(3));
  De(3,1)=p(3)*p(7)*cos(q(6) + q(3)) - p(16)*p(7)*cos(q(4) + q(5) + q(3)) - p(15)*p(7)*sin(q(6) +...
          q(7) + q(3)) - p(15)*p(7)*sin(q(4) + q(5) + q(3)) - p(14)*p(6)*cos(q(6) + q(3)) - p(14)*p(6)*cos(q(4) +...
          q(3)) - p(16)*p(7)*cos(q(6) + q(7) + q(3)) + p(3)*p(7)*cos(q(4) + q(3)) - p(13)*p(6)*sin(q(6) + q(3)) - p(13)*...
         p(6)*sin(q(4) + q(3)) - p(12)*p(5)*cos(q(3)) - p(11)*p(5)*sin(q(3));
  De(3,2)=p(15)*p(7)*cos(q(6) + q(7) + q(3)) + p(15)*p(7)*cos(q(4) + q(5) + q(3)) - p(16)*p(7)*...
         sin(q(6) + q(7) + q(3)) - p(16)*p(7)*sin(q(4) + q(5) + q(3)) + p(13)*p(6)*cos(q(6) + q(3)) + p(13)*p(6)*...
         cos(q(4) + q(3)) - p(14)*p(6)*sin(q(6) + q(3)) - p(14)*p(6)*sin(q(4) + q(3)) + p(3)*p(7)*sin(q(6) + q(3)) +...
          p(3)*p(7)*sin(q(4) + q(3)) + p(11)*p(5)*cos(q(3)) - p(12)*p(5)*sin(q(3));
  De(3,3)=p(8) + 2*p(9) + 2*p(10) + p(11)^2*p(5) + p(12)^2*p(5) + 2*p(13)^2*p(6) + 2*p(14)^2*p(6) +...
          2*p(15)^2*p(7) + 2*p(16)^2*p(7) + (p(2)^2*p(6))/2 + (p(2)^2*p(7))/2 + 2*p(3)^2*p(7) - p(13)*p(2)*p(6)*...
         cos(q(6)) + p(13)*p(2)*p(6)*cos(q(4)) - 2*p(16)*p(3)*p(7)*cos(q(7)) - 2*p(16)*p(3)*p(7)*cos(q(5)) + p(14)*p(2)*...
         p(6)*sin(q(6)) - p(14)*p(2)*p(6)*sin(q(4)) - 2*p(15)*p(3)*p(7)*sin(q(7)) - 2*p(15)*p(3)*p(7)*...
         sin(q(5)) - p(2)*p(3)*p(7)*sin(q(6)) + p(2)*p(3)*p(7)*sin(q(4)) - p(15)*p(2)*p(7)*cos(q(6) + q(7)) + p(15)*p(2)*p(7)*...
         cos(q(4) + q(5)) + p(16)*p(2)*p(7)*sin(q(6) + q(7)) - p(16)*p(2)*p(7)*sin(q(4) + q(5));
  De(3,4)=p(9) + p(10) + p(13)^2*p(6) + p(14)^2*p(6) + p(15)^2*p(7) + p(16)^2*p(7) + p(3)^2*p(7) +...
          (p(13)*p(2)*p(6)*cos(q(4)))/2 - 2*p(16)*p(3)*p(7)*cos(q(5)) - (p(14)*p(2)*p(6)*sin(q(4)))/2 - 2*p(15)*p(3)*...
         p(7)*sin(q(5)) + (p(2)*p(3)*p(7)*sin(q(4)))/2 + (p(15)*p(2)*p(7)*cos(q(4) + q(5)))/2 - (p(16)*p(2)*p(7)*...
         sin(q(4) + q(5)))/2;
  De(3,5)=p(10) + p(15)^2*p(7) + p(16)^2*p(7) - p(16)*p(3)*p(7)*cos(q(5)) - p(15)*p(3)*p(7)*...
         sin(q(5)) + (p(15)*p(2)*p(7)*cos(q(4) + q(5)))/2 - (p(16)*p(2)*p(7)*sin(q(4) + q(5)))/2;
  De(3,6)=p(9) + p(10) + p(13)^2*p(6) + p(14)^2*p(6) + p(15)^2*p(7) + p(16)^2*p(7) + p(3)^2*...
         p(7) - (p(13)*p(2)*p(6)*cos(q(6)))/2 - 2*p(16)*p(3)*p(7)*cos(q(7)) + (p(14)*p(2)*p(6)*sin(q(6)))/2 - 2*p(15)*p(3)*...
         p(7)*sin(q(7)) - (p(2)*p(3)*p(7)*sin(q(6)))/2 - (p(15)*p(2)*p(7)*cos(q(6) + q(7)))/2 + (p(16)*p(2)*p(7)*...
         sin(q(6) + q(7)))/2;
  De(3,7)=p(10) + p(15)^2*p(7) + p(16)^2*p(7) - p(16)*p(3)*p(7)*cos(q(7)) - p(15)*p(3)*p(7)*...
         sin(q(7)) - (p(15)*p(2)*p(7)*cos(q(6) + q(7)))/2 + (p(16)*p(2)*p(7)*sin(q(6) + q(7)))/2;
  De(4,1)=p(3)*p(7)*cos(q(4) + q(3)) - p(15)*p(7)*sin(q(4) + q(5) + q(3)) - p(14)*p(6)*cos(q(4) +...
          q(3)) - p(16)*p(7)*cos(q(4) + q(5) + q(3)) - p(13)*p(6)*sin(q(4) + q(3));
  De(4,2)=p(15)*p(7)*cos(q(4) + q(5) + q(3)) - p(16)*p(7)*sin(q(4) + q(5) + q(3)) + p(13)*p(6)*...
         cos(q(4) + q(3)) - p(14)*p(6)*sin(q(4) + q(3)) + p(3)*p(7)*sin(q(4) + q(3));
  De(4,3)=p(9) + p(10) + p(13)^2*p(6) + p(14)^2*p(6) + p(15)^2*p(7) + p(16)^2*p(7) + p(3)^2*p(7) +...
          (p(13)*p(2)*p(6)*cos(q(4)))/2 - 2*p(16)*p(3)*p(7)*cos(q(5)) - (p(14)*p(2)*p(6)*sin(q(4)))/2 - 2*p(15)*p(3)*...
         p(7)*sin(q(5)) + (p(2)*p(3)*p(7)*sin(q(4)))/2 + (p(15)*p(2)*p(7)*cos(q(4) + q(5)))/2 - (p(16)*p(2)*p(7)*...
         sin(q(4) + q(5)))/2;
  De(4,4)=p(9) + p(10) + p(13)^2*p(6) + p(14)^2*p(6) + p(15)^2*p(7) + p(16)^2*p(7) + p(3)^2*...
         p(7) - 2*p(16)*p(3)*p(7)*cos(q(5)) - 2*p(15)*p(3)*p(7)*sin(q(5));
  De(4,5)=p(10) + p(15)^2*p(7) + p(16)^2*p(7) - p(16)*p(3)*p(7)*cos(q(5)) - p(15)*p(3)*p(7)*sin(q(5));
  De(4,6)=0;
  De(4,7)=0;
  De(5,1)=- p(16)*p(7)*cos(q(4) + q(5) + q(3)) - p(15)*p(7)*sin(q(4) + q(5) + q(3));
  De(5,2)=p(15)*p(7)*cos(q(4) + q(5) + q(3)) - p(16)*p(7)*sin(q(4) + q(5) + q(3));
  De(5,3)=p(10) + p(15)^2*p(7) + p(16)^2*p(7) - p(16)*p(3)*p(7)*cos(q(5)) - p(15)*p(3)*p(7)*...
         sin(q(5)) + (p(15)*p(2)*p(7)*cos(q(4) + q(5)))/2 - (p(16)*p(2)*p(7)*sin(q(4) + q(5)))/2;
  De(5,4)=p(10) + p(15)^2*p(7) + p(16)^2*p(7) - p(16)*p(3)*p(7)*cos(q(5)) - p(15)*p(3)*p(7)*sin(q(5));
  De(5,5)=p(10) + p(15)^2*p(7) + p(16)^2*p(7);
  De(5,6)=0;
  De(5,7)=0;
  De(6,1)=p(3)*p(7)*cos(q(6) + q(3)) - p(15)*p(7)*sin(q(6) + q(7) + q(3)) - p(14)*p(6)*cos(q(6) +...
          q(3)) - p(16)*p(7)*cos(q(6) + q(7) + q(3)) - p(13)*p(6)*sin(q(6) + q(3));
  De(6,2)=p(15)*p(7)*cos(q(6) + q(7) + q(3)) - p(16)*p(7)*sin(q(6) + q(7) + q(3)) + p(13)*p(6)*...
         cos(q(6) + q(3)) - p(14)*p(6)*sin(q(6) + q(3)) + p(3)*p(7)*sin(q(6) + q(3));
  De(6,3)=p(9) + p(10) + p(13)^2*p(6) + p(14)^2*p(6) + p(15)^2*p(7) + p(16)^2*p(7) + p(3)^2*...
         p(7) - (p(13)*p(2)*p(6)*cos(q(6)))/2 - 2*p(16)*p(3)*p(7)*cos(q(7)) + (p(14)*p(2)*p(6)*sin(q(6)))/2 - 2*p(15)*p(3)*...
         p(7)*sin(q(7)) - (p(2)*p(3)*p(7)*sin(q(6)))/2 - (p(15)*p(2)*p(7)*cos(q(6) + q(7)))/2 + (p(16)*p(2)*p(7)*...
         sin(q(6) + q(7)))/2;
  De(6,4)=0;
  De(6,5)=0;
  De(6,6)=p(9) + p(10) + p(13)^2*p(6) + p(14)^2*p(6) + p(15)^2*p(7) + p(16)^2*p(7) + p(3)^2*...
         p(7) - 2*p(16)*p(3)*p(7)*cos(q(7)) - 2*p(15)*p(3)*p(7)*sin(q(7));
  De(6,7)=p(10) + p(15)^2*p(7) + p(16)^2*p(7) - p(16)*p(3)*p(7)*cos(q(7)) - p(15)*p(3)*p(7)*sin(q(7));
  De(7,1)=- p(16)*p(7)*cos(q(6) + q(7) + q(3)) - p(15)*p(7)*sin(q(6) + q(7) + q(3));
  De(7,2)=p(15)*p(7)*cos(q(6) + q(7) + q(3)) - p(16)*p(7)*sin(q(6) + q(7) + q(3));
  De(7,3)=p(10) + p(15)^2*p(7) + p(16)^2*p(7) - p(16)*p(3)*p(7)*cos(q(7)) - p(15)*p(3)*p(7)*...
         sin(q(7)) - (p(15)*p(2)*p(7)*cos(q(6) + q(7)))/2 + (p(16)*p(2)*p(7)*sin(q(6) + q(7)))/2;
  De(7,4)=0;
  De(7,5)=0;
  De(7,6)=p(10) + p(15)^2*p(7) + p(16)^2*p(7) - p(16)*p(3)*p(7)*cos(q(7)) - p(15)*p(3)*p(7)*sin(q(7));
  De(7,7)=p(10) + p(15)^2*p(7) + p(16)^2*p(7);

 