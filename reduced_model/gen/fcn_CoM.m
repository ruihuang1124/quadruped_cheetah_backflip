function [CoM] = fcn_CoM(q,p)

CoM = zeros(2,1);

  CoM(1,1)=(p(6)*(q(1) - (p(2)*cos(q(3)))/2 + cos(q(3))*(p(13)*cos(q(6)) - p(14)*...
         sin(q(6))) - sin(q(3))*(p(14)*cos(q(6)) + p(13)*sin(q(6)))) + p(6)*(q(1) + (p(2)*cos(q(3)))/2 + cos(q(3))*(p(13)*...
         cos(q(4)) - p(14)*sin(q(4))) - sin(q(3))*(p(14)*cos(q(4)) + p(13)*sin(q(4)))) + p(7)*(q(1) - (p(16)*cos(q(7)) + p(15)*...
         sin(q(7)))*(cos(q(6))*sin(q(3)) + cos(q(3))*sin(q(6))) + (p(15)*cos(q(7)) - p(16)*sin(q(7)))*(cos(q(6))*...
         cos(q(3)) - sin(q(6))*sin(q(3))) - (p(2)*cos(q(3)))/2 + p(3)*cos(q(6))*sin(q(3)) + p(3)*cos(q(3))*sin(q(6))) + p(7)*...
         (q(1) - (p(16)*cos(q(5)) + p(15)*sin(q(5)))*(cos(q(4))*sin(q(3)) + cos(q(3))*sin(q(4))) + (p(15)*cos(q(5)) - p(16)*...
         sin(q(5)))*(cos(q(4))*cos(q(3)) - sin(q(4))*sin(q(3))) + (p(2)*cos(q(3)))/2 + p(3)*cos(q(4))*sin(q(3)) + p(3)*...
         cos(q(3))*sin(q(4))) + p(5)*(q(1) + p(11)*cos(q(3)) - p(12)*sin(q(3))))/(p(5) + 2*p(6) + 2*p(7));
  CoM(2,1)=(p(6)*(q(2) - (p(2)*sin(q(3)))/2 + cos(q(3))*(p(14)*cos(q(6)) + p(13)*sin(q(6))) +...
          sin(q(3))*(p(13)*cos(q(6)) - p(14)*sin(q(6)))) + p(6)*(q(2) + (p(2)*sin(q(3)))/2 + cos(q(3))*(p(14)*...
         cos(q(4)) + p(13)*sin(q(4))) + sin(q(3))*(p(13)*cos(q(4)) - p(14)*sin(q(4)))) + p(5)*(q(2) + p(12)*cos(q(3)) +...
          p(11)*sin(q(3))) + p(7)*(q(2) + (p(16)*cos(q(7)) + p(15)*sin(q(7)))*(cos(q(6))*cos(q(3)) - sin(q(6))*...
         sin(q(3))) + (p(15)*cos(q(7)) - p(16)*sin(q(7)))*(cos(q(6))*sin(q(3)) + cos(q(3))*sin(q(6))) - (p(2)*...
         sin(q(3)))/2 - p(3)*cos(q(6))*cos(q(3)) + p(3)*sin(q(6))*sin(q(3))) + p(7)*(q(2) + (p(16)*cos(q(5)) + p(15)*sin(q(5)))*...
         (cos(q(4))*cos(q(3)) - sin(q(4))*sin(q(3))) + (p(15)*cos(q(5)) - p(16)*sin(q(5)))*(cos(q(4))*sin(q(3)) +...
          cos(q(3))*sin(q(4))) + (p(2)*sin(q(3)))/2 - p(3)*cos(q(4))*cos(q(3)) + p(3)*sin(q(4))*sin(q(3))))/(p(5) + 2*...
         p(6) + 2*p(7));

 